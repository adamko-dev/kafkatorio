// Generated by kxs-ts-gen - do not edit this file manually

export interface KafkatorioPacket {
  modVersion: string;
  tick: Tick;
  data: KafkatorioPacketData;
}

export type Tick = UInt;

export type KafkatorioPacketData =
  | KafkatorioPacketData.ConfigurationUpdate
  | KafkatorioPacketData.ConsoleChatUpdate
  | KafkatorioPacketData.ConsoleCommandUpdate
  | KafkatorioPacketData.EntityUpdate
  | KafkatorioPacketData.MapChunkUpdate
  | KafkatorioPacketData.PlayerUpdate
  | KafkatorioPacketData.PrototypesUpdate
  | KafkatorioPacketData.SurfaceUpdate;

export namespace KafkatorioPacketData {
  export enum Type {
    ConfigurationUpdate = "kafkatorio.packet.instant.ConfigurationUpdate",
    ConsoleChatUpdate = "kafkatorio.packet.instant.ConsoleChatUpdate",
    ConsoleCommandUpdate = "kafkatorio.packet.instant.ConsoleCommandUpdate",
    PrototypesUpdate = "kafkatorio.packet.instant.PrototypesUpdate",
    SurfaceUpdate = "kafkatorio.packet.instant.SurfaceUpdate",
    EntityUpdate = "kafkatorio.packet.keyed.EntityUpdate",
    MapChunkUpdate = "kafkatorio.packet.keyed.MapChunkUpdate",
    PlayerUpdate = "kafkatorio.packet.keyed.PlayerUpdate",
  }
  
  export interface ConfigurationUpdate {
    type: KafkatorioPacketData.Type.ConfigurationUpdate;
    factorioData: ConfigurationUpdateGameData;
    allMods: ConfigurationUpdateModData[];
    modStartupSettingsChange: boolean;
    migrationApplied: boolean;
  }
  
  export interface ConsoleChatUpdate {
    type: KafkatorioPacketData.Type.ConsoleChatUpdate;
    authorPlayerIndex: PlayerIndex | null;
    content: string;
  }
  
  export interface ConsoleCommandUpdate {
    type: KafkatorioPacketData.Type.ConsoleCommandUpdate;
    authorPlayerIndex: PlayerIndex | null;
    command: string;
    parameters: string;
  }
  
  export interface PrototypesUpdate {
    type: KafkatorioPacketData.Type.PrototypesUpdate;
    prototypes: FactorioPrototype[];
  }
  
  export interface SurfaceUpdate {
    type: KafkatorioPacketData.Type.SurfaceUpdate;
    index: SurfaceIndex;
    daytime: Double;
    name: string;
  }
  
  export interface EntityUpdate {
    type: KafkatorioPacketData.Type.EntityUpdate;
    key: EntityUpdateKey;
    events?: { [key: EventName]: Tick[] } | null;
    chunkPosition?: MapEntityPosition | null;
    graphicsVariation?: UByte | null;
    health?: Float | null;
    isActive?: boolean | null;
    isRotatable?: boolean | null;
    lastUser?: UInt | null;
    localisedDescription?: string | null;
    localisedName?: string | null;
    prototype?: PrototypeName | null;
  }
  
  export interface MapChunkUpdate {
    type: KafkatorioPacketData.Type.MapChunkUpdate;
    key: MapChunkUpdateKey;
    events?: { [key: EventName]: Tick[] } | null;
    player?: PlayerIndex | null;
    robot?: EntityIdentifiersData | null;
    force?: ForceIndex | null;
    tileDictionary?: MapTileDictionary | null;
    isDeleted?: boolean | null;
  }
  
  export interface PlayerUpdate {
    type: KafkatorioPacketData.Type.PlayerUpdate;
    key: PlayerUpdateKey;
    events?: { [key: EventName]: Tick[] } | null;
    characterUnitNumber?: UnitNumber | null;
    chatColour?: Colour | null;
    colour?: Colour | null;
    name?: string | null;
    afkTime?: Tick | null;
    ticksToRespawn?: Tick | null;
    forceIndex?: ForceIndex | null;
    isAdmin?: boolean | null;
    isConnected?: boolean | null;
    isShowOnMap?: boolean | null;
    isSpectator?: boolean | null;
    lastOnline?: Tick | null;
    onlineTime?: Tick | null;
    position?: MapEntityPosition | null;
    surfaceIndex?: SurfaceIndex | null;
    tag?: string | null;
    diedCause?: EntityIdentifiersData | null;
    bannedReason?: string | null;
    kickedReason?: string | null;
    disconnectReason?: string | null;
    isRemoved?: boolean | null;
  }
}

export type UInt = uint;

export interface ConfigurationUpdateGameData {
  oldVersion?: string | null;
  newVersion?: string | null;
}

export type PlayerIndex = UInt;

export type SurfaceIndex = UInt;

export type Double = double;

export interface EntityUpdateKey {
  unitNumber: UnitNumber;
  name: string;
  protoType: string;
}

export type MapEntityPosition = [
  x: Double,
  y: Double,
];

export type UByte = uint8;

export type Float = float;

export type PrototypeName = string;

export interface MapChunkUpdateKey {
  chunkPosition: MapChunkPosition;
  surfaceIndex: SurfaceIndex;
}

export interface EntityIdentifiersData {
  unitNumber?: UnitNumber | null;
  name: string;
  protoType: string;
}

export type ForceIndex = UInt;

export interface MapTileDictionary {
  tilesXY: { [key: string]: { [key: string]: PrototypeKey } };
  protos: { [key: PrototypeName]: PrototypeKey };
}

export interface PlayerUpdateKey {
  index: PlayerIndex;
}

export type UnitNumber = UInt;

export type Colour = [
  red: Float,
  green: Float,
  blue: Float,
  alpha: Float,
];

export type Int = int;

export interface ConfigurationUpdateModData {
  modName: string;
  currentVersion?: string | null;
  previousVersion?: string | null;
}

export type FactorioPrototype =
  | FactorioPrototype.Entity
  | FactorioPrototype.MapTile;

export namespace FactorioPrototype {
  export enum Type {
    MapTile = "kafkatorio.prototype.MapTile",
    Entity = "kafkatorio.prototype.Entity",
  }
  
  export interface MapTile {
    type: FactorioPrototype.Type.MapTile;
    name: PrototypeName;
    mapColour: Colour;
    layer: UInt;
    collisionMasks: List;
    order: string;
    canBeMined: boolean;
  }
  
  export interface Entity {
    type: FactorioPrototype.Type.Entity;
    name: PrototypeName;
    mapColour: Colour;
    protoType: string;
    objectName: string;
    colour: Colour;
    maxHealth: Float;
    isBuilding: boolean;
    isEntityWithOwner: boolean;
    isMilitaryTarget: boolean;
    miningProperties: MiningProperties;
  }
}

export type EventName = string;

export type Byte = int8;

export type MapChunkPosition = [
  x: Int,
  y: Int,
];

export type List = any;

export interface MiningProperties {
  canBeMined: boolean;
  products: MinedProduct[] | null;
}

export type PrototypeKey = Int;

export interface MinedProduct {
  type: Type;
  name: PrototypeName;
  amount: Double | null;
}

export enum Type {
  item = "item",
  fluid = "fluid",
}